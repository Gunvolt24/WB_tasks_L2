# Утилита cut

Упрощённый аналог `cut`: читает `STDIN` или файл, разбивает строки по разделителю и выводит выбранные столбцы.

---

### Сборка

Из корня проекта:

```bash
#Bash
go build -o bin/cut ./cmd
./bin/cut --help
```
---

### Использование

```css
cut -f FIELDS [-d DELIM] [-s] [FILE|-]
```

- `FIELDS` - номера/диапазоны столбцов (обязательно). Нумерация с 1. 

    - Допускаются:
        - отдельные номера: `1,6`
        - диапазоны: `3-5`
        - открытые границы: `-2` (с 1 по 2), `7-` (с 7 до конца)

- `DELIM` - разделитель (по умолчанию табуляция `\t`).
- `-s` - выводить только строки, содержащие разделитель. Строки без разделителя пропускаются.
- `FILE` - путь к файлу. Если не указан или `-`, читается `STDIN`.

Коды возврата: `0` - успешно, `1` - ошибка выполнения.

---

### Примеры (запуск из корня проекта)

В тестовых данных есть файл: `./L2.13/testdata/big_cut.tsv` (табличные данные, разделитель - `TAB`).

#### 1) Вывести 1-й и с 3-го по 5-й столбцы

```bash
./bin/cut -f "1,3-5" ./testdata/big_cut.tsv
```

#### 2) Первые два столбца (открытый диапазон -2)

```bash
./bin/cut -f "-2" ./testdata/big_cut.tsv
```

#### 3) Все столбцы, начиная с третьего (3-)

```bash
./bin/cut -f "3-" ./testdata/big_cut.tsv
```

#### 4) Пропускать строки без разделителя (-s)

```bash
./bin/cut -s -f "1,3-4" ./testdata/big_cut.tsv
```

#### 5) Чтение из STDIN

```bash
printf "a\tb\tc\nd\te\tf\nplain\nx\ty\n" | ./bin/cut -f "1,3-5" -
```

#### 6) CSV-пример с явным разделителем (запятая):

```bash
printf "A,B,C\n1,2,3\n4,5,6\n" | ./bin/cut -d "," -f "1,3" -
```

---

### Прочее

- Строки без разделителя:
    - при отсутствии `-s` - печатаются целиком без изменений;
    - с `-s` - пропускаются.

- Если строка содержит разделитель, но ни одно поле не выбрано (например, `-f "3-"` при двух столбцах), выводится пустая строка.
- Память для чтения строк увеличена: утилита подходит для больших файлов.