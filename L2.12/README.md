# Утилита grep

Упрощённый аналог `grep`: читает `STDIN` или файл и выводит строки, которые соответствуют шаблону (подстроке или регулярному выражению), с поддержкой контекста и служебных флагов.

---

### Сборка бинарного файла

Из корня проекта:

```bash
# Bash
go build -o bin/grep ./cmd
./bin/grep --help
```
---

### Использование

```css
grep [FLAGS] PATTERN [FILE|-]
```

`PATTERN` - шаблон (регулярное выражение по умолчанию).
`FILE` - необязателен. Если не указан или -, чтение идёт из `STDIN`.

##### Поддерживаемые флаги

- `-A N` - вывести **N строк после** каждого совпадения (контекст после).
- `-B N` - вывести **N строк до** каждого совпадения (контекст до).
- `-C N` - симметричный контекст: эквивалентно `-A N -B N`.
- `-c` - вывести только количество совпавших строк.
- `-i` - игнорировать регистр (case-insensitive).
- `-v` - инвертировать фильтр (показать строки, не совпадающие с шаблоном).
- `-F` - воспринимать шаблон как фиксированную подстроку (не regex).
- `-n` - печатать номер строки перед строкой *(N:строка)*.

Коды возврата: `0` - есть совпадения, `1` - совпадений нет, `2` - ошибка.

---

### Примеры использования

**Фиксированная подстрока (-F)**

```bash
./bin/grep -F "a.c" ./testdata/grep_regex.txt
```

**Регулярное выражение по умолчанию (символ `.` - любой один символ)**

```bash
./bin/grep "a.c" ./testdata/grep_regex.txt
```

**Без учёта регистра (`-i`) + регулярное выражение**

```bash
./bin/grep -i "a.c" ./testdata/grep_regex.txt
```

**Инвертирование отбора (`-v`) + фиксированная подстрока**

```bash
./bin/grep -v -F "abc" ./testdata/grep_regex.txt
```

**Вывод номеров строк (`-n`) + фиксированная подстрока**

```bash
./bin/grep -n -F "abc" ./testdata/grep_regex.txt
```

**Только количество (`-c`) + фиксированная подстрока + без учёта регистра**

```bash
./bin/grep -c -F -i "abc" ./testdata/grep_regex.txt
```

**Поиск с номерами строк и без учёта регистра**

```bash
./bin/grep -n -i "match" ./testdata/grep_sample.txt
```

**Контекст "после" (`-A 2`) + номера строк + без учёта регистра**

```bash
./bin/grep -n -i -A 2 "match" ./testdata/grep_sample.txt
```

**Контекст "до" (`-B 1`) + номера строк + без учёта регистра**

```bash
./bin/grep -n -i -B 1 "match" ./testdata/grep_sample.txt
```

**Симметричный контекст (`-C 1`) + номера строк + без учёта регистра**

```bash
./bin/grep -n -i -C 1 "match" ./testdata/grep_sample.txt
```

**Только количество совпавших строк**

```bash
./bin/grep -c -i "match" ./testdata/grep_sample.txt
```